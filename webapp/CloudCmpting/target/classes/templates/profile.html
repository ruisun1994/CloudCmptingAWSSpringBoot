<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"/>
<head>
    <title>Profile Page</title>
</head>
<script type="text/javascript">
    function clock() {
        var nowtime = new Date();
        var flag = "AM";
        var hours = nowtime.getHours();
        if (hours > 12) {
            hours -= 12;
            flag = "PM";
        }
        hours = hours > 9 ? hours : "0" + hours;
        var minutes = nowtime.getMinutes();
        minutes = minutes > 9 ? minutes : "0" + minutes;
        var seconds = nowtime.getSeconds();
        seconds = seconds > 9 ? seconds : "0" + seconds;
        var disptime = hours + ":" + minutes + ":" + seconds + " " + flag;
        document.getElementById("clock").innerHTML = disptime;
        setTimeout("clock()", 1000);
    }
</script>
<body class="text-center">

<div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
        <div class="inner">
            <nav class="nav nav-masthead justify-content-center">
                <a class="nav-link active" href="/user/home">Home</a>
                <a class="nav-link active" href="/user/index">Profile</a>
                <a class="nav-link active" href="/user/register">Sign Up</a>
                <a class="nav-link active" href="/user/login">Sign In</a>
            </nav>
        </div>
    </header>

    <main role="main" class="inner cover">

        <p id="demo"></p>
        <div class="container" style="text-align: center; margin-top: 5%">
            <h2>
                <span th:text="${ message }"></span>
            </h2>
            <h2>--------------------------------</h2>
            <h2>Current Time:
                <div id="clock"></div>
                <script type="text/javascript">
                    clock();
                </script>
            </h2>

            <!--<div style="text-align: center; margin-top: 2%">-->
                <!--<img src="2.jpg" class="img-responsive" alt="Image not found" styple="padding-top: 5px"-->
                     <!--width="460" height="345"/>-->
            <!--</div>-->


            <img class="mb-4" id="imgFramew" th:src="${imageFilePath}" alt="You image is not found" width="72" height="72"/>

            <div style="text-align: center; margin-top: 1%">
                <form method="POST" action="/user/upload" enctype="multipart/form-data">
                    <input type="file" id="file" accept=".png, .jpg, .jpeg" name="file" /><br/><br/>
                <!--<button th:type="submit" value="Submit" id="upload-avatar-btn" class="btn btn-primary" style="margin-top: 1%">Upload</button>-->
                <button th:type="button" value="go to delete" onclick="location.href='/user/deleteImgs'" name="deleteImg" id="delete-avatar-btn" class="btn btn-warning" style="margin-top: 1%">Delete</button>
            <div style="text-align: center; margin-top: 2%">
                <input th:type="text" id="textaboutme" name="aboutme" th:value="${aboutMe}" style= "width: 40%;height: 100px"
                       placeholder="Enter your Content (140 maximum!)" maxlength="140" />
            </div>
            <div>
                <button th:type="submit" value="Submit" class="btn btn-primary" style="margin-top: 1%">Save</button>
            </div>
                </form>
            </div>

            <button th:type="button" class="btn btn-link"><a href="/user/logout">Logout</a></button>
        </div>
    </main>
</div>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
    <script>
        document.getElementById('file').onchange = function() {
            var imgFile = this.files[0];
            var fr = new FileReader();
            fr.onload = function() {
                document.getElementById('imgFrame').getElementsByTagName('img')[0].src = fr.result;
            };
            fr.readAsDataURL(imgFile);
        };
    </script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

</body>
</html>